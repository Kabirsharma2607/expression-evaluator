policyName: insuranceUnderwriting
description: Comprehensive insurance underwriting policy for auto, health, and life insurance risk assessment
version: "1.0"

rules:
  # Age and demographic risk factors
  preferredAgeRange:
    expression: "featureMap.applicantAge >= 25 && featureMap.applicantAge <= 60"
    description: "Applicant in preferred age range (25-60)"

  seniorApplicant:
    expression: "featureMap.applicantAge > 60 && featureMap.applicantAge <= 75"
    description: "Senior applicant requiring additional assessment"

  highRiskAge:
    expression: "featureMap.applicantAge < 25 || featureMap.applicantAge > 75"
    description: "High-risk age category"

  # Health and lifestyle factors
  healthyLifestyle:
    expression: "featureMap.smoker == false && featureMap.alcoholConsumption == 'MODERATE' && featureMap.exerciseFrequency >= 3"
    description: "Healthy lifestyle indicators (non-smoker, moderate alcohol, regular exercise)"

  chronicConditions:
    expression: "featureMap.hasChronicConditions == true || featureMap.familyHistoryRisk >= 3"
    description: "Has chronic conditions or significant family history"

  bmiWithinRange:
    expression: "featureMap.bmi >= 18.5 && featureMap.bmi <= 30"
    description: "BMI within acceptable range"

  # Driving record (for auto insurance)
  cleanDrivingRecord:
    expression: "featureMap.accidentsLast5Years == 0 && featureMap.movingViolationsLast3Years <= 1"
    description: "Clean driving record with minimal violations"

  experiencedDriver:
    expression: "featureMap.drivingExperienceYears >= 10"
    description: "Experienced driver (10+ years)"

  highRiskDriver:
    expression: "featureMap.accidentsLast5Years >= 2 || featureMap.dui == true || featureMap.movingViolationsLast3Years >= 3"
    description: "High-risk driving profile"

  # Financial stability indicators
  stableIncome:
    expression: "featureMap.annualIncome >= 30000 && featureMap.employmentStatus == 'EMPLOYED' && featureMap.employmentStabilityYears >= 2"
    description: "Stable income and employment history"

  adequateCoverage:
    expression: "featureMap.requestedCoverage <= featureMap.annualIncome * 10"
    description: "Requested coverage within reasonable income multiple"

  paymentHistory:
    expression: "featureMap.insurancePaymentHistory == 'EXCELLENT' || featureMap.creditScore >= 650"
    description: "Good payment history or credit score"

  # Property and asset factors
  propertyCondition:
    expression: "featureMap.propertyAge <= 20 && featureMap.propertyCondition == 'GOOD' && featureMap.securityFeatures >= 2"
    description: "Property in good condition with security features"

  locationRisk:
    expression: "featureMap.crimeRateArea <= 2 && featureMap.naturalDisasterRisk <= 3"
    description: "Low crime and natural disaster risk area"

  # Composite underwriting decisions
  preferredRisk:
    expression: "preferredAgeRange && healthyLifestyle && cleanDrivingRecord && stableIncome && paymentHistory"
    dependencies: ["preferredAgeRange", "healthyLifestyle", "cleanDrivingRecord", "stableIncome", "paymentHistory"]
    description: "Preferred risk customer profile"

  standardRisk:
    expression: "(preferredAgeRange && stableIncome && paymentHistory) || (cleanDrivingRecord && bmiWithinRange && adequateCoverage)"
    dependencies: ["preferredAgeRange", "stableIncome", "paymentHistory", "cleanDrivingRecord", "bmiWithinRange", "adequateCoverage"]
    description: "Standard risk customer profile"

  subStandardRisk:
    expression: "chronicConditions || highRiskDriver || (seniorApplicant && !stableIncome)"
    dependencies: ["chronicConditions", "highRiskDriver", "seniorApplicant", "stableIncome"]
    description: "Sub-standard risk requiring higher premiums"